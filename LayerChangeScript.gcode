G91 ;relative positioning
G0 Z1 ;move down so wiper doesnt touch sugar (added on top of the layer height)
G90 ; back to absolute positioning


G53 X65 Y45 F2400 ;Go to this position to flip shaker head
G53 X65 Y10 F1000
G53 X28 Y10 F1000
G53 X28 Y45 F1500

G54 ; Move in Work coordinate system??????????????

G0 X0 Y0 F2400 ; Move to 0 in work coordinates

; Enter Shake Gcode here (offset +48mm in the Y)

; Pass 0 Path 0
G0 X0.00 Y68.00
G1 X0.00 Y58.00 S0.00 F4800

; Pass 0 Path 1
G0 X0.00 Y58.00
G1 X17.21 Y67.70 S0.00 F4800
G1 X33.17 Y58.00
G1 X50.06 Y67.70
G1 X65.71 Y58.00
G1 X82.84 Y67.70
G1 X99.87 Y58.00

; Pass 0 Path 2
G0 X99.87 Y58.00
G1 X99.87 Y48.00 S0.00 F4800

; Pass 0 Path 3
G0 X99.87 Y48.00
G1 X82.84 Y57.70 S0.00 F4800
G1 X65.71 Y48.00
G1 X50.06 Y57.70
G1 X33.17 Y48.00
G1 X17.21 Y57.70
G1 X0.00 Y48.00

; Pass 0 Path 4
G0 X0.00 Y68.00
G1 X17.21 Y77.70 S0.00 F4800
G1 X33.17 Y68.00
G1 X50.06 Y77.70
G1 X65.71 Y68.00
G1 X82.84 Y77.70
G1 X99.87 Y68.00

; Pass 0 Path 5
G0 X99.87 Y68.00
G1 X99.87 Y78.00 S0.00 F4800

; Pass 0 Path 6
G0 X99.87 Y78.00
G1 X82.84 Y87.70 S0.00 F4800
G1 X65.71 Y78.00
G1 X50.06 Y87.70
G1 X33.17 Y78.00
G1 X17.21 Y87.70
G1 X0.00 Y78.00

; Pass 0 Path 7
G0 X0.00 Y78.00
G1 X0.00 Y88.00 S0.00 F4800

; Pass 0 Path 8
G0 X0.00 Y88.00
G1 X17.21 Y97.70 S0.00 F4800
G1 X33.17 Y88.00
G1 X50.06 Y97.70
G1 X65.71 Y88.00
G1 X82.84 Y97.70
G1 X99.87 Y88.00

; Pass 0 Path 9
G0 X99.87 Y88.00
G1 X99.87 Y98.00 S0.00 F4800

; Pass 0 Path 10
G0 X99.87 Y98.00
G1 X82.84 Y107.70 S0.00 F4800
G1 X65.71 Y98.00
G1 X50.06 Y107.70
G1 X33.17 Y98.00
G1 X17.21 Y107.70
G1 X0.00 Y98.00

; Pass 0 Path 11
G0 X0.00 Y98.00
G1 X0.00 Y108.00 S0.00 F4800

; Pass 0 Path 12
G0 X0.00 Y108.00
G1 X17.21 Y117.70 S0.00 F4800
G1 X33.17 Y108.00
G1 X50.06 Y117.70
G1 X65.71 Y108.00
G1 X82.84 Y117.70
G1 X99.87 Y108.00

; Pass 0 Path 13
G0 X99.87 Y108.00
G1 X99.87 Y118.00 S0.00 F4800

; Pass 0 Path 14
G0 X99.87 Y118.00
G1 X82.84 Y127.70 S0.00 F4800
G1 X65.71 Y118.00
G1 X50.06 Y127.70
G1 X33.17 Y118.00
G1 X17.21 Y127.70
G1 X0.00 Y118.00

; Pass 0 Path 0
G0 X0.00 Y68.00
G1 X0.00 Y58.00 S0.00 F4800

; Pass 0 Path 1
G0 X0.00 Y58.00
G1 X17.21 Y67.70 S0.00 F4800
G1 X33.17 Y58.00
G1 X50.06 Y67.70
G1 X65.71 Y58.00
G1 X82.84 Y67.70
G1 X99.87 Y58.00

; Pass 0 Path 2
G0 X99.87 Y58.00
G1 X99.87 Y48.00 S0.00 F4800

; Pass 0 Path 3
G0 X99.87 Y48.00
G1 X82.84 Y57.70 S0.00 F4800
G1 X65.71 Y48.00
G1 X50.06 Y57.70
G1 X33.17 Y48.00
G1 X17.21 Y57.70
G1 X0.00 Y48.00

; Pass 0 Path 4
G0 X0.00 Y68.00
G1 X17.21 Y77.70 S0.00 F4800
G1 X33.17 Y68.00
G1 X50.06 Y77.70
G1 X65.71 Y68.00
G1 X82.84 Y77.70
G1 X99.87 Y68.00

; Pass 0 Path 5
G0 X99.87 Y68.00
G1 X99.87 Y78.00 S0.00 F4800

; Pass 0 Path 6
G0 X99.87 Y78.00
G1 X82.84 Y87.70 S0.00 F4800
G1 X65.71 Y78.00
G1 X50.06 Y87.70
G1 X33.17 Y78.00
G1 X17.21 Y87.70
G1 X0.00 Y78.00

; Pass 0 Path 7
G0 X0.00 Y78.00
G1 X0.00 Y88.00 S0.00 F4800

; Pass 0 Path 8
G0 X0.00 Y88.00
G1 X17.21 Y97.70 S0.00 F4800
G1 X33.17 Y88.00
G1 X50.06 Y97.70
G1 X65.71 Y88.00
G1 X82.84 Y97.70
G1 X99.87 Y88.00

; Pass 0 Path 9
G0 X99.87 Y88.00
G1 X99.87 Y98.00 S0.00 F4800

; Pass 0 Path 10
G0 X99.87 Y98.00
G1 X82.84 Y107.70 S0.00 F4800
G1 X65.71 Y98.00
G1 X50.06 Y107.70
G1 X33.17 Y98.00
G1 X17.21 Y107.70
G1 X0.00 Y98.00

; Pass 0 Path 11
G0 X0.00 Y98.00
G1 X0.00 Y108.00 S0.00 F4800

; Pass 0 Path 12
G0 X0.00 Y108.00
G1 X17.21 Y117.70 S0.00 F4800
G1 X33.17 Y108.00
G1 X50.06 Y117.70
G1 X65.71 Y108.00
G1 X82.84 Y117.70
G1 X99.87 Y108.00

; Pass 0 Path 13
G0 X99.87 Y108.00
G1 X99.87 Y118.00 S0.00 F4800

; Pass 0 Path 14
G0 X99.87 Y118.00
G1 X82.84 Y127.70 S0.00 F4800
G1 X65.71 Y118.00
G1 X50.06 Y127.70
G1 X33.17 Y118.00
G1 X17.21 Y127.70
G1 X0.00 Y118.00


G53 X8 Y45; F2400 Go to this position to flip shaker head back in MCS (position depends on stopper location for your laser)
G53 X8 Y10 F1000
G53 X39 Y10 F1000
G53 X39 Y45 F1500 


G54 ; Move in Work coordinate system??????????????

G0 X20 Y86 F2400 ;move to top left corner for wiper (applied 26mm offset for wiper)

G91 ;relative positioning
G0 Z-1 ;move up so wiper scrapes sugar (dependant on and how far you moved down)
G90 ; back to absolute positioning

;Wipe procedure (note: wiper is offset from shaker so I start at 106 and go to 26)
G0 X20 Y26 F1500
G0 X20 Y106 F2000
G0 X40 Y106
G0 X40 Y26 F1500
G0 X40 Y106 F2000
G0 X60 Y106
G0 X60 Y26 F1500
G0 X60 Y106 F2000
G0 X80 Y106
G0 X80 Y26 F1500

G91 ;relative positioning
G0 Z1 ;move down (layer height) so wiper doesnt touch sugar
G90 ; back to absolute positioning